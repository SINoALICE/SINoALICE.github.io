<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=1024">
    <meta name="description" content="">
    <meta name="author" content="">

    <link rel="icon" type="img/ico" href="assets/ui/favicon.png">

    <title>Nightmares</title>

    <!-- Bootstrap Core CSS -->
    <link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">

    <!-- MetisMenu CSS -->
    <link href="vendor/metisMenu/metisMenu.min.css" rel="stylesheet">

    <!-- DataTables CSS -->
    <link href="vendor/datatables-plugins/dataTables.bootstrap.css" rel="stylesheet">

    <!-- DataTables Responsive CSS -->
    <link href="vendor/datatables-responsive/dataTables.responsive.css" rel="stylesheet">

    <!-- Custom CSS -->
    <link href="dist/css/sb-admin-2.css" rel="stylesheet">

    <!-- Custom Fonts -->
    <link href="vendor/font-awesome/css/font-awesome.min.css" rel="stylesheet">

    <!-- jQuery -->
    <script src="vendor/jquery/jquery.min.js"></script>

    <!-- Bootstrap Core JavaScript -->
    <script src="vendor/bootstrap/js/bootstrap.min.js"></script>

    <!-- Metis Menu Plugin JavaScript -->
    <script src="vendor/metisMenu/metisMenu.min.js"></script>

    <!-- DataTables JavaScript -->
    <script type="text/javascript" language="javascript" src="https://cdn.datatables.net/1.10.19/js/jquery.dataTables.min.js"></script>
    <script type="text/javascript" language="javascript" src="https://cdn.datatables.net/1.10.19/js/dataTables.bootstrap.min.js"></script>
    <script type="text/javascript" language="javascript" src="https://cdn.datatables.net/responsive/2.2.3/js/dataTables.responsive.min.js"></script>
    <script type="text/javascript" language="javascript" src="https://cdn.datatables.net/responsive/2.2.3/js/responsive.bootstrap.min.js"></script>

    <!-- Custom Theme JavaScript -->
    <script src="dist/js/sb-admin-2.js"></script>

    <!-- DataTable Checkbox StateSave-->
    <link type="text/css" href="//gyrocode.github.io/jquery-datatables-checkboxes/1.2.11/css/dataTables.checkboxes.css"
        rel="stylesheet" />
    <script type="text/javascript" src="//gyrocode.github.io/jquery-datatables-checkboxes/1.2.11/js/dataTables.checkboxes.min.js"></script>

    <!-- Navigation Bar Script-->
    <script>
        $(function () {
            $("#navigationbar").load("navbar.html");
        });
    </script>

    <!-- Data Display Script-->
    <script type="text/javascript" class="init">
        $(document).ready(function () {

            var elementfireclicked = false;
            var elementwindclicked = false;
            var elementwaterclicked = false;

            var rankbclicked = false;
            var rankaclicked = false;
            var ranksclicked = false;
            var rankssclicked = false;

            function filterelement(name) {
                $('#weapons').DataTable().column(4).search(name).draw();
            }

            function activateelement(currentelement) {
                $("#element" + currentelement).css('background', 'gray');
            }

            function deactivateelement() {
                $("#elementfire").css('background', '');
                $("#elementwind").css('background', '');
                $("#elementwater").css('background', '');
            }

            function filterrank(name) {
                $('#armor').DataTable().column(4).search(name, true, false).draw();
            }

            function activaterank(currentrank) {
                $("#rank" + currentrank).css('background', 'gray');
            }

            function deactivaterank() {
                $("#ranka").css('background', '');
                $("#ranks").css('background', '');
                $("#rankss").css('background', '');
                $("#rankl").css('background', '');
            }

            $('#nightmares').DataTable({
                ajax: "jsonfiles/nightmares.json",
                pageLength: 25,
                columns: [
                    { data: 0 },
                    {
                        data: null,
                        render: function (data, type, row) {
                            return '<img src="assets/armor/CardS' + data[0] + '.png" class="armorimage"/>';
                        }
                    },
                    { data: 1 },
                    {
                        data: null,
                        render: function (data, type, row) {
                            return '<img src="assets/ui/type' + data[2] + '.png" class="typeimage"/>' +
                                '<span style="display:none;">' + data[2] + '</span>';
                        }
                    },
                    {
                        data: null,
                        render: function (data, type, row) {
                            return '<img src="assets/ui/rank' + data[3] + '.png" class="rankimage"/>' +
                                '<span style="display:none;">' + data[3] + '</span>';
                        }
                    },
                    { data: 4 },
                    {
                        data: null,
                        render: function (data, type, row) {
                            return data[5] + ' - ' + data[6];
                        }
                    },
                    {
                        data: null,
                        render: function (data, type, row) {
                            return data[7] + ' - ' + data[8];
                        }
                    },
                    { data: 9 }
                ]
            },
                // Filter Element
                $('#elementfire').on('click', function () {
                    deactivateelement();
                    if (!elementfireclicked) {
                        filterelement("fire");
                        activateelement("fire");
                        elementfireclicked = true;
                    } else {
                        filterelement("");
                        elementfireclicked = false;
                    }
                }),

                $('#elementwind').on('click', function () {
                    deactivateelement();
                    if (!elementwindclicked) {
                        filterelement("wind");
                        activateelement("wind");
                        elementwindclicked = true;
                    } else {
                        filterelement("");
                        elementwindclicked = false;
                    }
                }),

                $('#elementwater').on('click', function () {
                    deactivateelement();
                    if (!elementwaterclicked) {
                        filterelement("water");
                        activateelement("water");
                        elementwaterclicked = true;
                    } else {
                        filterelement("");
                        elementwaterclicked = false;
                    }
                }),

                // Filter Ranking
                $('#ranka').on('click', function () {
                    deactivaterank();
                    if (!rankaclicked) {
                        filterrank("^a$");
                        activaterank("a");
                        rankaclicked = true;
                    } else {
                        filterrank("");
                        rankaclicked = false;
                    }
                }),

                $('#ranks').on('click', function () {
                    deactivaterank();
                    if (!ranksclicked) {
                        filterrank("^s$");
                        activaterank("s");
                        ranksclicked = true;
                    } else {
                        filterrank("");
                        ranksclicked = false;
                    }
                }),

                $('#rankss').on('click', function () {
                    deactivaterank();
                    if (!rankssclicked) {
                        filterrank("^ss$");
                        activaterank("ss");
                        rankssclicked = true;
                    } else {
                        filterrank("");
                        rankssclicked = false;
                    }
                }),
            );
        });
    </script>

    <style type="text/css">
        .armorimage {
            width: 60px;
            display: block;
            margin: auto;
        }

        .typeimage {
            width: 25px;
            display: block;
            margin: auto;
        }

        .rankimage {
            width: 30px;
            display: block;
            margin: auto;
        }

        .filterimage {
            width: 30px;
            display: block;
            margin: auto;
        }

        .filterbutton {
            width: 125px;
            display: block;
            margin: auto;
        }

        .sidenav {
            height: 100%;
            width: 165px;
            position: fixed;
            z-index: 1;
            top: 0;
            left: 0;
            overflow-x: hidden;
            padding-top: 50px;
        }

        .main {
            margin-left: 150px;
            padding: 50px;
        }

        hr {
            border-top: 1px solid #ababab;
        }
    </style>
</head>

<body style="background-image: url(assets/ui/background.png); background-color: goldenrod">
    <div id="wrapper">

        <div id="navigationbar"></div>

        <div id="page-wrapper">
            <div class="sidenav" style="text-align: center; border-right: solid 1px; background-image: url(assets/ui/background.png); background-color: goldenrod">
                <h1 class="page-header">Filter</h1>
                <div class="container" style="width: 100%;">
                    <div>
                        <div>
                            <!-- Filter Element -->
                            <label id="elementfire" class="button">
                                <input type="image" src="assets/ui/elementfire.png" class="filterimage" name="elementfire">
                            </label>

                            <label id="elementwind" class="button">
                                <input type="image" src="assets/ui/elementwind.png" class="filterimage" name="elementwind">
                            </label>

                            <label id="elementwater" class="button">
                                <input type="image" src="assets/ui/elementwater.png" class="filterimage" name="elementwater">
                            </label>
                        </div>

                        <hr>
                        </hr>

                        <!-- Filter Rank -->
                        <label id="rankss" class="button">
                            <input type="image" src="assets/ui/rankss.png" class="filterimage" name="rankss">
                        </label>

                        <label id="ranks" class="button">
                            <input type="image" src="assets/ui/ranks.png" class="filterimage" name="ranks">
                        </label>

                        <label id="ranka" class="button">
                            <input type="image" src="assets/ui/ranka.png" class="filterimage" name="ranka">
                        </label>

                        <label id="rankb" class="button">
                            <input type="image" src="assets/ui/rankb.png" class="filterimage" name="rankb">
                        </label>
                    </div>
                </div>
            </div>

            <div class="main">
                <h1 class="page-header">Nightmares</h1>
                <div class="row">
                    <div class="panel panel-default">
                        <div class="panel-body" style="background-image: url(assets/ui/background.png); background-color: goldenrod">
                            <table id="nightmares" width="100%" class="table table-bordered" style="font-size: 16px;">
                                <thead>
                                    <tr>
                                        <th>ID</th>
                                        <th>Armor</th>
                                        <th>Name</th>
                                        <th>Type</th>
                                        <th>Rank</th>
                                        <th>Max Stats</th>
                                        <th>Story Skill</th>
                                        <th>Colloseum Skill</th>
                                        <th>Obtained from</th>
                                    </tr>
                                </thead>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>

</html>